<!DOCTYPE html>
<html lang="es" id="html-root">
  <head id="head">
    <meta charset="UTF-8" id="meta-charset" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" id="meta-viewport" />
    <title id="title">Reformes Digitals</title>
    <link rel="stylesheet" href="styles/reset.css" id="link-reset"/>
    <link rel="stylesheet" href="styles/styles.css" id="link-styles"/>
  </head>
  <body id="body">

    <!-- NAV BAR -->
    <header id="header">
      <nav id="nav" class="container">
        <!-- Logo -->
        <a id="nav-logo-link" href="index-cast.html">
          <img id="nav-logo" src="img/RDBlack.png" alt="Reformes Digitals Logo" />
        </a>

        <!-- Menú de navegación -->
        <ul id="nav-menu">
          <li><a href="#hero">Que hacemos</a></li>
          <li><a href="#about">Como lo hacemos</a></li>
          <li><a href="#process">Fem-ho</a></li>

           <!-- Desplegable de Idioma -->
          <li id="nav-item-idioma" class="dropdown">
            <a href="#" id="nav-link-idioma">Idioma</a>
            <ul class="dropdown-menu">
              <li><a href="index-cast.html">Cast</a></li>
              <li><a href="index.html">Cat</a></li>
            </ul>
          </li>
        </ul>
      </nav>
    </header>  

    <!-- HERO -->
    <section id="hero">
      <div class="container">
        <!-- Vídeo de fondo optimizado con fallback -->
        <video
          id="hero-video"
          autoplay
          muted
          loop
          playsinline
          preload="auto"
          poster="img/hero-poster.jpg"
        >
          <source src="img/hero-gradient.webm" type="video/webm" />
          <source src="img/hero-gradient.mp4"  type="video/mp4" />
          <!-- Fallback para navegadores sin <video> -->
          <img src="img/hero-poster.jpg" alt="Fons animat" />
        </video>

        <!-- Contenido sobre el vídeo -->
        <div id="hero-content" class="container">
          <h1 id="hero-title">Webs funcionales y específicas para tu negocio</h1>
          <p id="hero-description">
            Diseñamos, reformamos u optimizamos tu web con claridad, proximidad y precios asequibles.
            Para que tengas una presencia digital que te represente y funcione.
          </p>
        </div>
      </div> <!-- <- faltava tancar aquest div -->
    </section>

    <!-- ABOUT -->
    <section id="about">
      <div class="container">
        <!-- Caja gris -->
        <div class="about-box">
          <!-- Título -->
          <h2 id="about-title">Consultoria Digital</h2>

          <!-- Descripción -->
          <p id="about-description">
            Te damos soporte real y práctico para hacer conocer tu negocio mediante el mundo digital:
          </p>

          <!-- Servicios -->
          <ul class="about-services">
            <li>Identidad gráfica y digital</li>
            <li>Programación y Disseño web personalizado</li>
            <li>Visibilidad, SEO, SEM, GEO, campañas y automatitzaciones</li>
            <li>Redes Sociales</li>
            <li>e-commerce</li>
            <li>Análisis y optimización de resultados</li>
            <li>Mentoria y formación digital personalizada</li>
            <li>Control de la productividad a tu empresa</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- PROCESS -->
    <section id="process" class="section-light">
      <div class="container">
        <h1 class="section-title">Un proceso senzillo<br>Un resultado que tiene sentido</h1>
        <p class="section-description">
          Hacer que la web de tu negocio sea funcional y atractiva es una tarea compleja. Este es nuestro método:
        </p>

        <div class="process-grid">
          <!-- Card 1 -->
          <div class="process-card step-1">
            <span class="process-number">01.</span>
            <p><strong>Reunión inicial:</strong><br>Estudiamos a fondo tu empresa y los objetivos que se quieren conseguir.</p>
          </div>

          <!-- Card 2 -->
          <div class="process-card step-2">
            <span class="process-number">02.</span>
            <p><strong>Propuesta de diseño:</strong><br>Te presentamos una propuesta visual que refleje tu identidad.</p>
          </div>

          <!-- Card 3 -->
          <div class="process-card step-3">
            <span class="process-number">03.</span>
            <p><strong>Validación:</strong><br>Escuchamos tu feedback y ajustamos el diseño según sea necesario.</p>
          </div>

          <!-- Card 4 -->
          <div class="process-card step-4">
            <span class="process-number">04.</span>
            <p><strong>Programación:</strong><br>Convertimos el diseño en una web funcional, optimizada y adaptada.</p>
          </div>

          <!-- Card 5 -->
          <div class="process-card step-5">
            <span class="process-number">05.</span>
            <p><strong>Entrega y revisión final:</strong><br>Publicamos la web cuando estés totalmente satisfecho/a.</p>
          </div>

          <!-- Card 6 -->
          <div class="process-card step-6">
            <span class="process-number">06.</span>
            <p>Tiempo estimado: entre 4 y 6 semanas.<br>Precio a partir de 1.000 €.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- TEAM -->
    <section id="team" class="section-light">
      <div class="container">
        <h1 class="section-title">Nuestro equipo</h1>

          <div class="team-grid">
            <!-- Tarjeta 1 -->
            <div class="team-card">
              <div class="team-front">
                <img src="img/Marc-foto-perfil.jpg" alt="Marc Duran" class="team-photo">
                <h3 class="team-name">Marc Duran Llauger</h3>
              </div>
              <div class="team-back">
                <h3 class="team-name">Marc Duran Llauger</h3>
                <p>Mirada estratégica orientada a resultados. Es quien se encarga de que tu web no sólo se vea bien, sino que funcione.</p>
                <ul>
                  <li>Máster en Marketing Digital por ESIC.</li>
                  <li>Más de 8 años de experiencia en el sector digital.</li>
                  <li>SEO, SEM y copywriting.</li>
                </ul>
              </div>
            </div>


            <!-- Tarjeta 2 -->
            <div class="team-card">
              <div class="team-front">
                <img src="img/foto perfil.JPG" alt="Javier Ribas Pascual" class="team-photo">
                <h3 class="team-name">Javier Ribas Pascual</h3>
              </div>
              <div class="team-back">
                <h3 class="team-name">Javier Ribas Pascual</h3>
                <p>Creativitdad enfocada en crear y mejorar productos digitales. Responsable de diseñar y desarrollar webs, softwares y aplicaciones.</p>
                <ul>
                  <li>Programador (Especialista en JS, Node.JS, html y css).</li>
                  <li>Máster en UX/UI por Neoland.</li>
                  <li>Abogado por la UOC.</li>
                </ul>
              </div>
            </div>
          </div>
        </section>
      </div>
    </section>

    <!-- FOOTER -->
    <footer id="footer">
      <div class="container">
        <!-- Vídeo de fons reutilitzat (mateixos assets que el HERO) -->
        <video
          id="footer-video"
          autoplay
          muted
          loop
          playsinline
          preload="auto"
          poster="img/hero-poster.jpg"
        >
          <source src="img/hero-gradient.webm" type="video/webm" />
          <source src="img/hero-gradient.mp4"  type="video/mp4" />
          <img src="img/hero-poster.jpg" alt="Fons animat" />
        </video>

        <!-- Contingut superposat -->
        <div id="footer-content" class="container">
          <h1 id="footer-title">¿Aún tienes dudas?</h1>

          <p id="footer-contact">
            Llámanos al <strong>123 456 789</strong><br />
            Escríbenos directamente <strong>WhatsApp</strong><br />
            Enviános un correo a <strong>hola@reformesdigitals.com</strong>
          </p>

          <a id="footer-left" href="cookies-cast.html">Aviso legal y Política de cookies</a>
          <p id="footer-right">Reformes Digitals © 2025</p>
        </div>
      </div>
    </footer>

  </body>

  <script>
(async () => {
  try {
    const res = await fetch('/data/home.es.json', { cache: 'no-store' });
    const data = await res.json();

    // NAV
    const navMenu = document.getElementById('nav-menu');
    if (navMenu && data.nav?.links) {
      const staticLang = document.getElementById('nav-item-idioma');
      navMenu.innerHTML = '';
      data.nav.links.forEach(link => {
        const li = document.createElement('li');
        li.innerHTML = `<a href="${link.href}">${link.label}</a>`;
        navMenu.appendChild(li);
      });
      if (staticLang) {
        // Idiomas (dropdown)
        const langMenu = staticLang.querySelector('.dropdown-menu');
        if (langMenu && data.nav?.languages) {
          langMenu.innerHTML = `
            <li><a href="${data.nav.languages.urlEs}">${data.nav.languages.labelEs || 'Cast'}</a></li>
            <li><a href="${data.nav.languages.urlCa}">${data.nav.languages.labelCa || 'Cat'}</a></li>
          `;
        }
        navMenu.appendChild(staticLang);
      }
    }
    const logoImg = document.getElementById('nav-logo');
    if (logoImg && data.nav?.logo) logoImg.src = data.nav.logo;

    // HERO
    const heroTitle = document.getElementById('hero-title');
    const heroDesc = document.getElementById('hero-description');
    const heroVideo = document.getElementById('hero-video');
    if (heroTitle) heroTitle.textContent = data.hero?.title || '';
    if (heroDesc) heroDesc.textContent = data.hero?.description || '';
    if (heroVideo && data.hero) {
      if (data.hero.poster) heroVideo.setAttribute('poster', data.hero.poster);
      const sources = heroVideo.querySelectorAll('source');
      if (sources[0] && data.hero.videoWebm) sources[0].src = data.hero.videoWebm;
      if (sources[1] && data.hero.videoMp4) sources[1].src = data.hero.videoMp4;
      heroVideo.load();
    }

    // ABOUT
    const aboutTitle = document.getElementById('about-title');
    const aboutDesc = document.getElementById('about-description');
    const aboutList = document.querySelector('.about-services');
    if (aboutTitle) aboutTitle.textContent = data.about?.title || '';
    if (aboutDesc) aboutDesc.textContent = data.about?.description || '';
    if (aboutList && Array.isArray(data.about?.services)) {
      aboutList.innerHTML = '';
      data.about.services.forEach(item => {
        const li = document.createElement('li');
        li.textContent = item;
        aboutList.appendChild(li);
      });
    }

    // PROCESS
    const procTitleEl = document.querySelector('#process .section-title');
    const procDescEl = document.querySelector('#process .section-description');
    const procGrid = document.querySelector('#process .process-grid');
    if (procTitleEl) procTitleEl.innerHTML = (data.process?.sectionTitle || '').replace(/\n/g, '<br>');
    if (procDescEl) procDescEl.textContent = data.process?.sectionDescription || '';
    if (procGrid && Array.isArray(data.process?.steps)) {
      procGrid.innerHTML = '';
      data.process.steps.forEach((s, i) => {
        const card = document.createElement('div');
        card.className = `process-card step-${i+1}`;
        card.innerHTML = `
          <span class="process-number">${s.number || ''}</span>
          <p>${s.title ? `<strong>${s.title}</strong><br>` : ''}${s.text || ''}</p>
        `;
        procGrid.appendChild(card);
      });
    }

    // TEAM
    const teamGrid = document.querySelector('.team-grid');
    if (teamGrid && Array.isArray(data.team)) {
      teamGrid.innerHTML = '';
      data.team.forEach(member => {
        const card = document.createElement('div');
        card.className = 'team-card';
        card.innerHTML = `
          <div class="team-front">
            <img src="${member.photo}" alt="${member.name}" class="team-photo">
            <h3 class="team-name">${member.name}</h3>
          </div>
          <div class="team-back">
            <h3 class="team-name">${member.name}</h3>
            <p>${member.bio || ''}</p>
            ${Array.isArray(member.bullets) ? `<ul>${member.bullets.map(b => `<li>${b}</li>`).join('')}</ul>` : ''}
          </div>
        `;
        teamGrid.appendChild(card);
      });
    }

    // FOOTER
    const footerTitle = document.getElementById('footer-title');
    const footerContact = document.getElementById('footer-contact');
    const footerLegal = document.getElementById('footer-left');
    const footerCopy = document.getElementById('footer-right');
    const footerVideo = document.getElementById('footer-video');
    if (footerTitle) footerTitle.textContent = data.footer?.title || '';
    if (footerContact) {
      footerContact.innerHTML = (data.footer?.contact || '')
        .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
        .replace(/\n/g, '<br />');
    }
    if (footerLegal) {
      footerLegal.textContent = data.footer?.legalText || 'Aviso legal y Política de cookies';
      footerLegal.href = data.footer?.legalHref || 'cookies-cast.html';
    }
    if (footerCopy) footerCopy.textContent = data.footer?.copyright || '';
    if (footerVideo && data.footer) {
      if (data.footer.poster) footerVideo.setAttribute('poster', data.footer.poster);
      const sv = footerVideo.querySelectorAll('source');
      if (sv[0] && data.footer.videoWebm) sv[0].src = data.footer.videoWebm;
      if (sv[1] && data.footer.videoMp4) sv[1].src = data.footer.videoMp4;
      footerVideo.load();
    }
  } catch (e) {
    console.warn('No se pudo cargar /data/home.es.json', e);
  }
})();
</script>
</html>