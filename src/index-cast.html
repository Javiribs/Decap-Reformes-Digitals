<!DOCTYPE html>
<html lang="es" id="html-root">
  <head id="head">
    <meta charset="UTF-8" id="meta-charset" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" id="meta-viewport" />
    <title id="title">Reformes Digitals</title>
    <link rel="stylesheet" href="styles/reset.css" id="link-reset"/>
    <link rel="stylesheet" href="styles/styles.css" id="link-styles"/>
    <link rel="stylesheet" href="styles/style-responsive.css">
    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="32x32" href="img/favicon.png">
    <link rel="icon" type="image/png" sizes="16x16" href="img/favicon.png">
    <link rel="shortcut icon" href="img/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="img/favicon.png">
    <meta name="theme-color" content="#00c2ff"> <!-- color de la empresa -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  </head>
  <body id="body">

    <!-- NAV BAR -->
    <header id="header">
      <nav id="nav" class="container">
        <!-- Logo -->
        <a id="nav-logo-link" href="index-cast.html">
          <img id="nav-logo" src="img/RDBlack.png" alt="Reformes Digitals Logo" />
        </a>

        <!-- Menú de navegación -->
        <ul id="nav-menu">
          <li><a href="#about">¿Que hacemos?</a></li>
          <li><a href="#process">¿Como lo hacemos?</a></li>
          <li><a href="#footer">¡Hagámoslo!</a></li>

           <!-- Desplegable de Idioma -->
          <li id="nav-item-idioma" class="dropdown">
            <a href="#" id="nav-link-idioma">Idioma</a>
            <ul class="dropdown-menu">
              <li><a href="index-cast.html">Cast</a></li>
              <li><a href="index.html">Cat</a></li>
            </ul>
          </li>
        </ul>
      </nav>
    </header>  

    <!-- HERO -->
    <section id="hero">
      <div class="container">
        <!-- Vídeo de fondo optimizado con fallback -->
        <video
          id="hero-video"
          autoplay
          muted
          loop
          playsinline
          preload="auto"
          poster="img/hero-poster.jpg"
        >
          <source src="img/hero-gradient.webm" type="video/webm" />
          <source src="img/hero-gradient.mp4"  type="video/mp4" />
          <!-- Fallback para navegadores sin <video> -->
          <img src="img/hero-poster.jpg" alt="Fons animat" />
        </video>

        <!-- Contenido sobre el vídeo -->
        <div id="hero-content" class="container">
          <h1 id="hero-title">Webs funcionales y específicas para tu negocio</h1>
          <p id="hero-description">
            Diseñamos, reformamos u optimizamos tu web con claridad, proximidad y precios asequibles.
            Para que tengas una presencia digital que te represente y funcione.
          </p>
        </div>
      </div> <!-- <- faltava tancar aquest div -->
    </section>

    <!-- ABOUT -->
    <section id="about">
      <div class="container">
        <!-- Caja gris -->
        <div class="about-box">
          <!-- Título -->
          <h2 id="about-title">Consultoria Digital</h2>

          <!-- Descripción -->
          <p id="about-description">
            Te damos soporte real y práctico para hacer conocer tu negocio mediante el mundo digital:
          </p>

          <!-- Servicios -->
          <ul class="about-services">
            <li>Identidad gráfica y digital</li>
            <li>Programación y Disseño web personalizado</li>
            <li>Visibilidad, SEO, SEM, GEO, campañas y automatitzaciones</li>
            <li>Redes Sociales</li>
            <li>E-commerce</li>
            <li>Análisis y optimización de resultados</li>
            <li>Mentoria y formación digital personalizada</li>
            <li>Control de la productividad a tu empresa</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- PROCESS -->
    <section id="process" class="section-light">
      <div class="container">
        <h1 class="section-title">Un proceso senzillo<br>Un resultado que tiene sentido</h1>
        <p class="section-description">
          Hacer que la web de tu negocio sea funcional y atractiva es una tarea compleja. Este es nuestro método:
        </p>

        <div class="process-grid">
          <!-- Card 1 -->
          <div class="process-card step-1">
            <span class="process-number">01.</span>
            <p><strong>Reunión inicial:</strong><br>Estudiamos a fondo tu empresa y los objetivos que se quieren conseguir.</p>
          </div>

          <!-- Card 2 -->
          <div class="process-card step-2">
            <span class="process-number">02.</span>
            <p><strong>Propuesta de diseño:</strong><br>Te presentamos una propuesta visual que refleje tu identidad.</p>
          </div>

          <!-- Card 3 -->
          <div class="process-card step-3">
            <span class="process-number">03.</span>
            <p><strong>Validación:</strong><br>Escuchamos tu feedback y ajustamos el diseño según sea necesario.</p>
          </div>

          <!-- Card 4 -->
          <div class="process-card step-4">
            <span class="process-number">04.</span>
            <p><strong>Programación:</strong><br>Convertimos el diseño en una web funcional, optimizada y adaptada.</p>
          </div>

          <!-- Card 5 -->
          <div class="process-card step-5">
            <span class="process-number">05.</span>
            <p><strong>Revisión final:</strong><br>Verificamos diseño, contenido, navegación, idiomas y funcionalidades.</p>
          </div>

          <!-- Card 6 -->
          <div class="process-card step-6">
            <span class="process-number">06.</span>
            <p><strong>Entrega:</strong><br>Publicamos la web en la red, facilitamos los accesos y la formación básica.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- TEAM -->
    <section id="team" class="section-light">
      <div class="container">
        <h1 class="section-title">Nuestro equipo</h1>

          <div class="team-grid">
            <!-- Tarjeta 1 -->
            <div class="team-card">
              <div class="team-front">
                <img src="img/Perfil-Marc.png" alt="Marc Duran" class="team-photo">
                <h3 class="team-name">Marc Duran Llauger</h3>
              </div>
              <div class="team-back">
                <h3 class="team-name">Marc Duran Llauger</h3>
                <p>Mirada estratégica orientada a resultados. Es quien se encarga de que tu web no sólo se vea bien, sino que funcione.</p>
                <ul>
                  <li>Máster en Marketing Digital por ESIC.</li>
                  <li>Más de 8 años de experiencia en el sector digital.</li>
                  <li>SEO, SEM y copywriting.</li>
                </ul>
              </div>
            </div>


            <!-- Tarjeta 2 -->
            <div class="team-card">
              <div class="team-front">
                <img src="img/foto perfil.JPG" alt="Javier Ribas Pascual" class="team-photo">
                <h3 class="team-name">Javi Ribas Pascual</h3>
              </div>
              <div class="team-back">
                <h3 class="team-name">Javi Ribas Pascual</h3>
                <p>Creativitdad enfocada en crear y mejorar productos digitales. Responsable de diseñar y desarrollar webs, softwares y aplicaciones.</p>
                <ul>
                  <li>Programador (Especialista en JS, Node.JS, html y css).</li>
                  <li>Máster en UX/UI por Neoland.</li>
                  <li>Abogado por la UOC.</li>
                </ul>
              </div>
            </div>
          </div>
        </section>
      </div>
    </section>

    <!-- FOOTER -->
    <footer id="footer">
      <div class="container">
        <!-- Vídeo de fons reutilitzat (mateixos assets que el HERO) -->
        <video
          id="footer-video"
          autoplay
          muted
          loop
          playsinline
          preload="auto"
          poster="img/hero-poster.jpg"
        >
          <source src="img/hero-gradient.webm" type="video/webm" />
          <source src="img/hero-gradient.mp4"  type="video/mp4" />
          <img src="img/hero-poster.jpg" alt="Fons animat" />
        </video>

        <!-- Contingut superposat -->
        <div id="footer-content" class="container">
          <h1 id="footer-title">¿Aún tienes dudas?</h1>

          <p id="footer-contact">
            Llámanos al <strong>662 58 71 79</strong><br />
            Escríbenos directamente <strong>WhatsApp</strong><br />
            Enviános un correo a <strong>reformesdigitals@gmail.com</strong>
          </p>

          <a id="footer-left" href="cookies-cast.html">Aviso legal y Política de cookies</a>
          <p id="footer-right">Reformes Digitals © 2025</p>
        </div>
      </div>
    </footer>

  </body>

  <script>
(async () => {
  const base = '/content/home/es';

  async function loadText(path) {
    const res = await fetch(path, { cache: 'no-store' });
    return res.ok ? res.text() : '';
  }

  // --- NAV ---
  try {
    const navFM = await loadText(`${base}/nav.md`);
    // Front-matter muy simple (logo + links)
    const fmMatch = navFM.match(/^---\n([\s\S]*?)\n---/);
    let logo = 'img/RDBlack.png', links = [];
    if (fmMatch) {
      const yml = fmMatch[1];
      const logoM = yml.match(/logo:\s*(.+)/);
      if (logoM) logo = logoM[1].trim().replace(/^"|"$/g, '');
      const linkRegex = /-\s*{\s*label:\s*"(.*?)",\s*href:\s*"(.*?)"\s*}/g;
      const linksArr = [...yml.matchAll(linkRegex)];
      links = linksArr.map(m => ({ label: m[1], href: m[2] }));
    }
    const navLogo = document.getElementById('nav-logo');
    if (navLogo) navLogo.src = `/src/${logo.replace(/^\.?\//,'')}`;

    const navMenu = document.getElementById('nav-menu');
    if (navMenu && links.length) {
      const dropdown = document.getElementById('nav-item-idioma');
      navMenu.innerHTML = '';
      links.forEach(l => {
        const li = document.createElement('li');
        const a  = document.createElement('a');
        a.href = l.href; a.textContent = l.label;
        li.appendChild(a); navMenu.appendChild(li);
      });
      if (dropdown) navMenu.appendChild(dropdown);
    }
  } catch(e) { console.warn('NAV (ES) MD load error', e); }

  // --- HERO ---
  {
    const md = await loadText(`${base}/hero.md`);
    const lines = md.split('\n');
    const h1 = lines.find(l => l.startsWith('# '));
    const body = md.replace(/^# .*\n?/, '');
    const titleEl = document.getElementById('hero-title');
    const descEl  = document.getElementById('hero-description');
    if (titleEl && h1) titleEl.textContent = h1.replace(/^#\s*/, '');
    if (descEl) descEl.innerHTML = marked.parse(body);
  }

  // --- ABOUT ---
  {
    const md = await loadText(`${base}/about.md`);
    const html = marked.parse(md);
    const aboutBox = document.querySelector('#about .about-box');
    if (aboutBox) aboutBox.innerHTML = html;
  }

  // --- PROCESS ---
  {
    const md = await loadText(`${base}/process.md`);
    const container = document.querySelector('#process .container');
    if (container) {
      // Quitamos título/desc/grid “de serie” y usamos el HTML del MD
      const title = container.querySelector('.section-title');
      const desc  = container.querySelector('.section-description');
      const grid  = container.querySelector('.process-grid');
      if (title) title.remove();
      if (desc)  desc.remove();
      if (grid)  grid.remove();
      const html = marked.parse(md);
      const wrapper = document.createElement('div');
      wrapper.innerHTML = html;
      container.appendChild(wrapper);
    }
  }

  // --- TEAM (dos miembros) ---
  async function loadMember(slug, index) {
    const md = await loadText(`${base}/team/${slug}.md`);
    if (!md) return;
    const fm = md.match(/^---\n([\s\S]*?)\n---/);
    let name = '', photo = '';
    let body = md;
    if (fm) {
      const yml = fm[1];
      const nameM  = yml.match(/name:\s*"(.*)"/);
      const photoM = yml.match(/photo:\s*"(.*)"/);
      if (nameM)  name  = nameM[1];
      if (photoM) photo = '/src/' + photoM[1].replace(/^\.?\//,'');
      body = md.replace(/^---[\s\S]*?---\n?/, '');
    }
    const htmlBody = marked.parse(body);

    const cards = document.querySelectorAll('#team .team-card');
    const card  = cards[index];
    if (!card) return;

    const frontImg = card.querySelector('.team-front img.team-photo');
    const frontName= card.querySelector('.team-front .team-name');
    const backName = card.querySelector('.team-back  .team-name');
    const backBox  = card.querySelector('.team-back');

    if (frontImg && photo) frontImg.src = photo;
    if (frontName && name) frontName.textContent = name;
    if (backName && name)  backName.textContent  = name;

    if (backBox) {
      const p = backBox.querySelector('p'); if (p) p.remove();
      const ul= backBox.querySelector('ul'); if (ul) ul.remove();
      const div = document.createElement('div');
      div.innerHTML = htmlBody;
      backBox.appendChild(div);
    }
  }
  await loadMember('marc',   0);
  await loadMember('javier', 1);

  // --- FOOTER ---
  {
    const md = await loadText(`${base}/footer.md`);
    const html = marked.parse(md);
    const footerBox = document.getElementById('footer-content');
    if (footerBox) footerBox.innerHTML = html;
  }
})();
</script>

</html>