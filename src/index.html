<!DOCTYPE html>
<html lang="ca" id="html-root">
  <head id="head">
    <meta charset="UTF-8" id="meta-charset" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" id="meta-viewport" />
    <title id="title">Reformes Digitals</title>
    <link rel="stylesheet" href="styles/reset.css" id="link-reset"/>
    <link rel="stylesheet" href="styles/styles.css" id="link-styles"/>
    <link rel="stylesheet" href="styles/style-responsive.css">
    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="32x32" href="img/favicon.png">
    <link rel="icon" type="image/png" sizes="16x16" href="img/favicon.png">
    <link rel="shortcut icon" href="img/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="img/favicon.png">
    <meta name="theme-color" content="#00c2ff"> <!-- color de la empresa -->
  </head>
  <body id="body">

    <!-- NAV BAR -->
    <header id="header">
      <nav id="nav" class="container">
        <!-- Logo -->
        <a id="nav-logo-link" href="index.html">
          <img id="nav-logo" src="img/RDBlack.png" alt="Reformes Digitals Logo" />
        </a>

        <!-- Menú de navegación -->
        <ul id="nav-menu">
          <li><a href="#about">Què fem?</a></li>
          <li><a href="#process">Com ho fem?</a></li>
          <li><a href="#footer">Fem-ho!</a></li>

          <!-- Desplegable de Idioma -->
          <li id="nav-item-idioma" class="dropdown">
            <a href="#" id="nav-link-idioma">Idioma</a>
            <ul class="dropdown-menu">
              <li><a href="index-cast.html">Cast</a></li>
              <li><a href="index.html">Cat</a></li>
            </ul>
          </li>
        </ul>
      </nav>
    </header>  

    <!-- HERO -->
    <section id="hero">
      <div class="container">
        <!-- Vídeo de fondo optimizado con fallback -->
        <video
          id="hero-video"
          autoplay
          muted
          loop
          playsinline
          preload="auto"
          poster="img/hero-poster.jpg"
        >
          <source src="img/hero-gradient.webm" type="video/webm" />
          <source src="img/hero-gradient.mp4"  type="video/mp4" />
          <!-- Fallback para navegadores sin <video> -->
          <img src="img/hero-poster.jpg" alt="Fons animat" />
        </video>

        <!-- Contenido sobre el vídeo -->
        <div id="hero-content" class="container">
          <h1 id="hero-title">Webs funcionals i específiques pel teu negoci</h1>
          <p id="hero-description">
            Dissenyem, refem o optimitzem la teva web amb claredat, proximitat i preus assequibles.
            Perquè tinguis una presència digital que et representi i que funcioni.
          </p>
        </div>
      </div> <!-- <- faltava tancar aquest div -->
    </section>

    <!-- ABOUT -->
    <section id="about">
      <div class="container">
        <!-- Caja gris -->
        <div class="about-box">
          <!-- Título -->
          <h2 id="about-title">Consultoria Digital</h2>

          <!-- Descripción -->
          <p id="about-description">
            Et donem suport real i pràctic per fer créixer el teu negoci des del món digital:
          </p>

          <!-- Servicios -->
          <ul class="about-services">
            <li>Identitat gràfica i digital</li>
            <li>Programació i Disseny web personalitzat</li>
            <li>Visibilitat, SEO, SEM, GEO, campanyes i automatitzacions</li>
            <li>Xarxes Socials</li>
            <li>E-commerce</li>
            <li>Anàlisi i optimització de resultats</li>
            <li>Mentoria i formació digital personalitzada</li>
            <li>Control de la productivitat a la teva empresa</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- PROCESS -->
    <section id="process" class="section-light">
      <div class="container">
        <h1 class="section-title">Un procés senzill<br>Un resultat que té sentit</h1>
        <p class="section-description">
          Fer la web del teu negoci no hauria de ser complicat. Aquest és el nostre mètode:
        </p>

        <div class="process-grid">
          <!-- Card 1 -->
          <div class="process-card step-1">
            <span class="process-number">01.</span>
            <p><strong>Reunió inicial:</strong><br>Coneixem a fons el teu negoci i el que vols aconseguir amb la web.</p>
          </div>

          <!-- Card 2 -->
          <div class="process-card step-2">
            <span class="process-number">02.</span>
            <p><strong>Proposta de disseny:</strong><br>Et presentem una proposta visual que reflecteixi la teva identitat.</p>
          </div>

          <!-- Card 3 -->
          <div class="process-card step-3">
            <span class="process-number">03.</span>
            <p><strong>Validació:</strong><br>Escoltem el teu feedback i ajustem el disseny segons calgui.</p>
          </div>

          <!-- Card 4 -->
          <div class="process-card step-4">
            <span class="process-number">04.</span>
            <p><strong>Programació:</strong><br>Convertim el disseny en una web funcional, optimitzada i adaptada.</p>
          </div>

          <!-- Card 5 -->
          <div class="process-card step-5">
            <span class="process-number">05.</span>
            <p><strong>Revisió final:</strong><br>Verifiquem disseny, contingut, navegació, idiomes i funcionalitats.</p>
          </div>

          <!-- Card 6 -->
          <div class="process-card step-6">
            <span class="process-number">06.</span>
            <p><strong>Entrega:</strong><br>Publiquem la web a la xarxa, facilitem els accessos i la formació bàsica.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- TEAM -->
    <section id="team" class="section-light">
      <div class="container">
        <h1 class="section-title">El nostre equip</h1>

          <div class="team-grid">
            <!-- Tarjeta 1 -->
            <div class="team-card">
              <div class="team-front">
                <img src="img/Perfil-Marc.png" alt="Marc Duran" class="team-photo">
                <h3 class="team-name">Marc Duran Llauger</h3>
              </div>
              <div class="team-back">
                <h3 class="team-name">Marc Duran Llauger</h3>
                <p>Mirada estratègica orientada a resultats. És qui s'encarrega que la teva web no només es vegi bé, sinó que funcioni.</p>
                <ul>
                  <li>Màster en Màrqueting Digital per ESIC.</li>
                  <li>Més de 8 anys d'experiència en el sector digital.</li>
                  <li>SEO, SEM i copywriting.</li>
                </ul>
              </div>
            </div>


            <!-- Tarjeta 2 -->
            <div class="team-card">
              <div class="team-front">
                <img src="img/foto perfil.JPG" alt="Javier Ribas Pascual" class="team-photo">
                <h3 class="team-name">Javi Ribas Pascual</h3>
              </div>
              <div class="team-back">
                <h3 class="team-name">Javi Ribas Pascual</h3>
                <p>Creativitat enfocada en crear i millorar productes digitals. Responsable de dissenyar i desenvolupar webs, softwares i aplicacions.</p>
                <ul>
                  <li>Programador (Especialista en JS, Node.JS, html i css).</li>
                  <li>Màster en UX/UI per Neoland.</li>
                  <li>Advocat per la UOC.</li>
                </ul>
              </div>
            </div>
          </div>
        </section>
      </div>
    </section>

    <!-- FOOTER -->
    <footer id="footer">
      <div class="container">
        <!-- Vídeo de fons reutilitzat (mateixos assets que el HERO) -->
        <video
          id="footer-video"
          autoplay
          muted
          loop
          playsinline
          preload="auto"
          poster="img/hero-poster.jpg"
        >
          <source src="img/hero-gradient.webm" type="video/webm" />
          <source src="img/hero-gradient.mp4"  type="video/mp4" />
          <img src="img/hero-poster.jpg" alt="Fons animat" />
        </video>

        <!-- Contingut superposat -->
        <div id="footer-content" class="container">
          <h1 id="footer-title">Encara tens dubtes?</h1>

          <p id="footer-contact">
            Truca'ns al <strong>662 58 71 79</strong><br />
            Escriu-nos directament al <strong>WhatsApp</strong><br />
            Envia'ns un correu a <strong>reformesdigitals@gmail.com</strong>
          </p>

          <a id="footer-left" href="cookies.html">Avís legal i Política de cookies</a>
          <p id="footer-right">Reformes Digitals © 2025</p>
        </div>
      </div>
    </footer>

  </body>

  <script>
(async () => {
  try {
    const res = await fetch('/data/home.ca.json', { cache: 'no-store' });
    const data = await res.json();

    // NAV
    const navMenu = document.getElementById('nav-menu');
    if (navMenu && data.nav?.links) {
      // Mantén el dropdown de idioma tal cual; reemplazamos solo los 3 primeros enlaces
      const staticLang = document.getElementById('nav-item-idioma');
      navMenu.innerHTML = '';
      data.nav.links.forEach(link => {
        const li = document.createElement('li');
        li.innerHTML = `<a href="${link.href}">${link.label}</a>`;
        navMenu.appendChild(li);
      });
      if (staticLang) navMenu.appendChild(staticLang);
    }
    const logoImg = document.getElementById('nav-logo');
    if (logoImg && data.nav?.logo) logoImg.src = data.nav.logo;

    // Idiomas (dropdown)
    const langMenu = document.querySelector('#nav-item-idioma .dropdown-menu');
    if (langMenu && data.nav?.languages) {
      langMenu.innerHTML = `
        <li><a href="${data.nav.languages.urlEs}">${data.nav.languages.labelEs || 'Cast'}</a></li>
        <li><a href="${data.nav.languages.urlCa}">${data.nav.languages.labelCa || 'Cat'}</a></li>
      `;
    }

    // HERO
    const heroTitle = document.getElementById('hero-title');
    const heroDesc = document.getElementById('hero-description');
    const heroVideo = document.getElementById('hero-video');
    if (heroTitle) heroTitle.textContent = data.hero?.title || '';
    if (heroDesc) heroDesc.textContent = data.hero?.description || '';
    if (heroVideo && data.hero) {
      if (data.hero.poster) heroVideo.setAttribute('poster', data.hero.poster);
      const sources = heroVideo.querySelectorAll('source');
      if (sources[0] && data.hero.videoWebm) sources[0].src = data.hero.videoWebm;
      if (sources[1] && data.hero.videoMp4) sources[1].src = data.hero.videoMp4;
      heroVideo.load();
    }

    // ABOUT
    const aboutTitle = document.getElementById('about-title');
    const aboutDesc = document.getElementById('about-description');
    const aboutList = document.querySelector('.about-services');
    if (aboutTitle) aboutTitle.textContent = data.about?.title || '';
    if (aboutDesc) aboutDesc.textContent = data.about?.description || '';
    if (aboutList && Array.isArray(data.about?.services)) {
      aboutList.innerHTML = '';
      data.about.services.forEach(item => {
        const li = document.createElement('li');
        li.textContent = item;
        aboutList.appendChild(li);
      });
    }

    // PROCESS
    const procTitleEl = document.querySelector('#process .section-title');
    const procDescEl = document.querySelector('#process .section-description');
    const procGrid = document.querySelector('#process .process-grid');
    if (procTitleEl) procTitleEl.innerHTML = (data.process?.sectionTitle || '').replace(/\n/g, '<br>');
    if (procDescEl) procDescEl.textContent = data.process?.sectionDescription || '';
    if (procGrid && Array.isArray(data.process?.steps)) {
      procGrid.innerHTML = '';
      data.process.steps.forEach((s, i) => {
        const card = document.createElement('div');
        card.className = `process-card step-${i+1}`;
        card.innerHTML = `
          <span class="process-number">${s.number || ''}</span>
          <p>${s.title ? `<strong>${s.title}</strong><br>` : ''}${s.text || ''}</p>
        `;
        procGrid.appendChild(card);
      });
    }

    // TEAM
    const teamGrid = document.querySelector('.team-grid');
    if (teamGrid && Array.isArray(data.team)) {
      teamGrid.innerHTML = '';
      data.team.forEach(member => {
        const card = document.createElement('div');
        card.className = 'team-card';
        card.innerHTML = `
          <div class="team-front">
            <img src="${member.photo}" alt="${member.name}" class="team-photo">
            <h3 class="team-name">${member.name}</h3>
          </div>
          <div class="team-back">
            <h3 class="team-name">${member.name}</h3>
            <p>${member.bio || ''}</p>
            ${Array.isArray(member.bullets) ? `<ul>${member.bullets.map(b => `<li>${b}</li>`).join('')}</ul>` : ''}
          </div>
        `;
        teamGrid.appendChild(card);
      });
    }

    // FOOTER
    const footerTitle = document.getElementById('footer-title');
    const footerContact = document.getElementById('footer-contact');
    const footerLegal = document.getElementById('footer-left');
    const footerCopy = document.getElementById('footer-right');
    const footerVideo = document.getElementById('footer-video');
    if (footerTitle) footerTitle.textContent = data.footer?.title || '';
    if (footerContact) {
      // permite **negreta** con Markdown muy simple
      footerContact.innerHTML = (data.footer?.contact || '')
        .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
        .replace(/\n/g, '<br />');
    }
    if (footerLegal) {
      footerLegal.textContent = data.footer?.legalText || 'Avís legal i Política de cookies';
      footerLegal.href = data.footer?.legalHref || 'cookies.html';
    }
    if (footerCopy) footerCopy.textContent = data.footer?.copyright || '';
    if (footerVideo && data.footer) {
      if (data.footer.poster) footerVideo.setAttribute('poster', data.footer.poster);
      const sv = footerVideo.querySelectorAll('source');
      if (sv[0] && data.footer.videoWebm) sv[0].src = data.footer.videoWebm;
      if (sv[1] && data.footer.videoMp4) sv[1].src = data.footer.videoMp4;
      footerVideo.load();
    }
  } catch (e) {
    console.warn('No s’ha pogut carregar /data/home.ca.json', e);
  }
})();
</script>


</html>
